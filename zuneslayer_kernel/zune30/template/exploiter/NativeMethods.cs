/*  _____                         ________   ____    __  __
 * /\  __`\                      /\_____  \ /\  _`\ /\ \/\ \
 * \ \ \/\ \  _____     __    ___\/____//'/'\ \ \/\ \ \ \/'/'
 *  \ \ \ \ \/\ '__`\ /'__`\/' _ `\   //'/'  \ \ \ \ \ \ , <
 *   \ \ \_\ \ \ \L\ \\  __//\ \/\ \ //'/'___ \ \ \_\ \ \ \\`\
 *    \ \_____\ \ ,__/ \____\ \_\ \_\/\_______\\ \____/\ \_\ \_\
 *     \/_____/\ \ \/ \/____/\/_/\/_/\/_______/ \/___/  \/_/\/_/
 *              \ \_\
 *               \/_/ OpenZDK Release 1 | 2010-04-14
 *
 * NativeMethods.cs
 * Copyright (c) 2010 itsnotabigtruck.
 * No rights reserved.
 * 
 * All rights are waived to the maximum extent possible; see
 * http://creativecommons.org/publicdomain/zero/1.0/ for more information
 *
 * Replace this banner when writing your own applications
 */

using System;
using System.Runtime.InteropServices;

namespace ZuneBoards.DevelopmentFront.NativeAppLauncher.SD
{
    public delegate int FPTR(int a);

    static class NativeMethods
    {
        public struct PROCESS_INFORMATION
        {
            public IntPtr hProcess;
            public IntPtr hThread;
            public int ProcessId;
            public int ThreadId;
        }

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern int CreateProcess(string imageName, string cmdLine, IntPtr lpProcessAttributes, IntPtr lpThreadAttributes, bool boolInheritHandles, int dwCreationFlags, IntPtr lpEnvironment, IntPtr lpszCurrentDir, byte[] si, ref PROCESS_INFORMATION pi);
        [DllImport("coredll.dll", SetLastError = true)]
        public static extern int WaitForSingleObject(IntPtr hHandle, int dwMilliseconds);
        [DllImport("coredll.dll", SetLastError = true)]
        public static extern int GetExitCodeProcess(IntPtr hProcess, out int lpExitCode);
        [DllImport("coredll.dll", SetLastError = true)]
        public static extern int CloseHandle(IntPtr hObject);

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern int calloc(int a, int b);

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern int CreateFileW(string a, uint b, int c, int d, int e, int f, int g);

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern int DeviceIoControl(int a, int b, int c, int d, int e, int f, int g, int h);


        [DllImport("coredll.dll", SetLastError = true)]
        public static extern bool GetExitCodeThread(uint a, uint b);

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern uint CreateThread(int a, uint b, FPTR  f, uint c, uint d, uint e);

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern bool ExitThread(uint a);

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern uint GetFSHeapInfo();

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern uint GetCurrentPermissions();

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern uint CeGetCurrentTrust();

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern uint GetOwnerProcess();

        [DllImport("coredll.dll", SetLastError = true)]
        public static extern uint IsBadReadPtr(uint p, uint l);
    }
}